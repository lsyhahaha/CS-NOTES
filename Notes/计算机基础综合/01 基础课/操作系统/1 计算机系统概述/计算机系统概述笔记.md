# 1.1操作系统的基本概念

### 1.1.1操作系统的基本概念

操作系统：

①是控制和管理整个计算机系统的硬件与软件资源；

②合理地组织、调度计算机的工作与资源的分配，进而为用户和其他软件提供方便接口与环境的程序集合。

③操作系统是计算机系统重最基本的系统软件。



### 1.1.2操作系统的特征

1.并发：是指两个或者多个事件在同一时间间隔内发生。

2.共享：

​	（1）互斥共享方式：

​	（2）同时访问方式：

3.虚拟：指一个物理上的实体变为若干逻辑上的对应物。

4.异步:躲到程序环境允许多个程序并发执行，但由于资源有限，进程的执行并不是一贯到底的，而是走走停停的，它以不可预知的速度向前推进，这就是进程异步性。

$\textcolor{red}{并发和共享是操作系统两个最基本的特征。}$



### 1.1.3操作系统的目标和功能

$\textcolor{red}{1.操作系统作为计算机系统资源的管理者}$

操作系统应该具有以下几方面的功能：处理机管理、存储器管理、设备管理和文件管理。（以使用QQ为例）

（1）处理机（CPU）管理（对应的进程被处理机处理）

（2）存储器管理（双击打开QQ.exe,把程序的相关数据放入内存）

（3）设备管理（摄像头这类设备资源也是由操作系统管理）

（4）文件管理（找到QQ安装的位置）



<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051631959.png" alt="image-20230805163112780" style="zoom: 67%;" />



$\textcolor{red}{2.操作系统作为用户与计算机硬件系统之间的接口}$

（1）命令接口

1. 联机命令接口：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051635364.png" alt="image-20230805163504138" style="zoom:50%;" />

2.脱机命令接口：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051635184.png" alt="image-20230805163528952" style="zoom:50%;" />



（2）程序接口

程序接口由一组系统调用组成。**普通用户不能使用程序接口**；



有的教程会把系统调用称为广义指令。系统调用，很类似与函数调用。



<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051633249.png" alt="image-20230805163339033" style="zoom:50%;" />







$\textcolor{red}{3.操作系统实现了对计算机资源的扩充}$

没有任何软件支持的计算机称为裸机；

通常吧覆盖了软件的机器称为扩充机器和虚拟机；



<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051638560.png" alt="image-20230805163858353" style="zoom:50%;" />

### 知识回顾和重要考点

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308051640855.png" alt="image-20230805164029628" style="zoom:50%;" />

Tips：

1. 有时会把命令接口和程序接口统称为用户接口；



### 1.1.4课后习题（p5-p6）

小题：

- 1.操作系统是对（计算机资源）进行管理的软件。

- 8.系统调用时有操作系统提供给用户的，它（只能通过程序用户间接只使用）

- 9.操作系统提供给编程人员的接口是（程序接口，即系统调用）。

- 11命令接口分为联机命令接口和脱机命令接口

- 【14】不属于多道程序设计的基本特征是（顺序性）

  ```
  制约性——＞　程序的执行因为共享资源而相互制约；
  间断性——＞　一个程序按顺序依次执行
  顺序性——>  各个程序按顺序依次执行
  共享性——>   多道程序共享资源
  ```

- 【16】【2009】

  关键字：并行、单处理机

  混淆概念：并行 Vs 并发

  并行：同时进行

  并发：宏观上并行，微观上同一时刻最多只有一个任务正在进行。

- 【18】【2013】

  ```
  一般电脑的内存条就只RAM
  DVD、VCD就是ROM
  EPROM(电可编程只读存储器)也是一种特殊的ROM.
  BIOS:Basic Input Output System
  ```

  



大题

- 01.说明库函数和系统调用的区别与联系.

  $\textcolor{red}{答：p8}$

  

### 1.1.5答案







# 1.2操作系统发展历程

### 1.2.1手工操作系统（此阶段无操作系统）

缺点：

1. 用户独占全机；
2. CPU等待手工操作，CPU利用率不充分；

唯一的解决办法是 用高速的机器代替相对较慢的手工操作来对作业进行控制。



### 1.2.2批处理操作系统

**目的**：为了解决人机矛盾及CPU和I/O设备之间速度不匹配的矛盾，出现了批处理系统。

**分类**：按照发展历程可分为**单道批处理系统、多道批处理系统**



###### 单道批处理系统

特点：

1. 自动性
2. 顺序性
3. 单道性



###### 多道批处理系统

特点：

1. 多道 。 **计算机内存中同时存放多道相互独立的程序。**
2. 宏观上并行
3. 微观上串行

优点：

​		资源利用率高，多道程序共享计算机资源，从而是各种资源得到充分使用，系统吞吐量大，CPU和其他资源保持“忙碌”状态；

缺点：

​		用户响应时间较长；不提供人机交互能力，用户既不能了解自己程序的运行情况，也不能控制计算机。



**多道程序设计技术**实现需要解决的问题：

1. 如何分配处理机；
2. 多道程序分内存分配问题；
3. I/O设备如何分配；
4. 如何组织和存放大量的程序和数据，以方便用户使用并保证其安全性和一致性；





### 1.2.3分时操作系统

###### 主要特征：

1. 同时性（多路性）：多个用户可以使用同一台计算机
2. 交互性：可进行人机对话
3. 独立性：多个用户独立地进行彼此的操作，互不影响；
4. 及时性：用户请求在短时间内可以获得响应。

###### 不足：

虽然分时操作系统较好地解决了人机交互问题，但是在一些应用场合，需要系统能对外部的信息在规定的时间内（比时间片的时间还短）做出响应，因此，实时操作系统应运而生。





### 1.2.4实时操作系统

**概念：**实时操作系统（Real-time Operating System，RTOS）是一种专门设计用于处理实时任务的操作系统。实时任务是那些需要在特定时间内产生响应的任务，且任务完成的时间也有严格的要求。RTOS旨在满足这些实时任务的需求，并确保它们在规定的时间范围内得到及时处理。

**分类：**RTOS通常有两种类型：硬实时系统和软实时系统。

硬实时系统对任务的截止时间要求非常严格，如果任务未能在规定的时间内完成，系统可能会产生严重的故障或损失。在硬实时系统中，任务的时间约束是绝对不能破坏的，因此系统必须能够精确地保证任务在截止时间前完成。

软实时系统对任务的截止时间要求相对宽松，如果任务在截止时间后完成，系统可以容忍一定的延迟。在软实时系统中，任务的时间约束是相对灵活的，尽管及时处理任务很重要，但偶尔的延迟不会导致系统崩溃或失败。

**特点：**及时性和可靠性。





### 1.2.5网络操作系统和分布式计算机系统【不考】

### 1.2.6个人计算机操作系统【不考】



### 1.2.7课后习题(p11~12)

小题：

- 3.不属于多道程序设计的基本特征的是（顺序性）。

- 4.操作系统的基本类型主要有：批处理操作系统、分时操作系统和实时操作系统。

- 8.航空订票、机床控制、股票交易系统，这些系统最好使用实时操作系统。

- 9.分时操作系统的一个重要特性是系统的响应时间，对操作系统的（优先级+非抢占式调度算法）因素进行改进有利于改善系统的响应时间。

- 10.分时操作系统追求的目标是（比较快的响应用户）。

- 11.在分时系统中，时间片一定时，（用户数越多）响应时间越长。

- 12.在分时系统中，为使多个进程能够及时与系统进行交互，最关键的问题是在短时间内，使所有就绪进程都能运行。当就绪进程数为100时，为保证响应时间不超过2s，此时的时间片最大为（50ms）.

- 【13】IBM-PC是个人计算机的缩写，使用的是微信计算机操作系统；

- 15.相比单道批处理系统，多道批处理系统的优点是：①CPU利用率高；②系统吞吐量打；③I/O设备利用率高；$\textcolor{red}{系统开销小并不是多道程序系统的特点。}$

  ​			实际上，相对于单道批处理系统，多道批处理系统的优点主要在于系统的吞吐量和资源利用率方面，而不一定是系统开销小。让我们来详细比较一下两者的特点：

  1. 资源利用率：在单道批处理系统中，一次只能运行一个作业，无法同时利用系统资源，即使系统中有多个作业处于等待状态。而在多道批处理系统中，多个作业可以同时在内存中准备运行，系统可以充分利用CPU和其他资源，提高资源利用率。
  2. 吞吐量：多道批处理系统能够并行处理多个作业，从而在单位时间内完成更多的作业，提高系统的吞吐量。这意味着在同样的时间内，多道批处理系统可以处理更多的作业，加快整个作业队列的周转时间。
  3. 系统开销：相对于单道批处理系统，在多道批处理系统中，系统需要管理和维护多个作业，包括内存管理、作业调度、资源分配等，这些额外的管理开销可能会增加系统的复杂性和开销。
  4. 响应时间：多道批处理系统可能会在一定程度上增加作业的响应时间，因为多个作业共享系统资源，可能需要等待其他作业完成才能得到执行。

  综上所述，多道批处理系统相比单道批处理系统的优势在于资源利用率和吞吐量的提高，可以同时处理多个作业，从而减少整个作业队列的周转时间。但是，由于需要管理和维护多个作业，多道批处理系统可能会增加一些额外的系统开销。具体选择哪种类型的系统要根据实际应用场景和系统需求进行权衡和选择。

- 16.多任务操作系统并不一定需要运行在多CPU的硬件平台上。

  ​		多任务操作系统并不一定需要运行在多个CPU的硬件平台上。多任务操作系统是一种能够同时管理多个任务并在它们之间进行切换的操作系统，使得这些任务能够在同一CPU上交替执行，从而给用户产生并发的错觉。

  ​		在单CPU的硬件平台上，多任务操作系统通过时间片轮转、优先级调度等机制，使得每个任务轮流分配一小段CPU时间，以此实现任务之间的快速切换和并发执行。

  ​		虽然单CPU上的多任务操作系统可以实现任务的并发执行，但是在某些情况下可能会受到CPU性能的限制，导致任务响应时间较长或任务之间的切换开销较大。因此，对于一些对实时性要求非常高的应用场景或者需要处理大量复杂任务的情况，多CPU的硬件平台可能更为合适。

  ​		多CPU的硬件平台允许多个CPU同时执行任务，每个CPU可以独立地运行一个任务，从而提高了系统的并行性和处理能力。在这种情况下，多任务操作系统可以更加高效地利用多个CPU，并提供更好的性能和响应时间。

  ​		总结而言，多任务操作系统可以在单CPU或多CPU的硬件平台上运行，但在资源有限或对性能要求较高的情况下，多CPU的硬件平台可能更适合支持多任务操作系统的运行。



大题：

1. 【记忆题】批处理操作系统、分时、实时操作系统的特点？

2. 【计算题】计算CPU的利用率。

   ​											**CPU利用率 = (CPU时间 / (CPU时间 + 空闲时间)) * 100%**

   【第二问的图怎么画甘特图？？？？】

   <img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061535134.png" alt="image-20230806153543834" style="zoom: 50%;" />

3. 【计算题】回画时序图（甘特图）之后就很简答了

   <img src="../../../../../../../AppData/Roaming/Typora/typora-user-images/image-20230806154206161.png" alt="image-20230806154206161" style="zoom:50%;" />



### 1.2.8答案（p12）





# 1.3操作系统运行环境（第一章的核心）

### 1.3.1处理器运行模式

###### **概念：**

在操作系统中，处理器（CPU）可以运行在不同的运行模式，也称为特权级或特权模式。这些运行模式决定了处理器能够访问和执行的指令集、硬件资源以及系统级的操作。一般来说，操作系统会根据不同的任务和需求，将处理器切换到不同的运行模式。在现代计算机系统中，常见的处理器运行模式有以下几种：

1. **用户态（User Mode）：**在用户态下，处理器受限制，只能执行受限的指令集，无法直接访问系统资源和硬件设备。用户程序运行在用户态下，其对操作系统资源的访问需要通过系统调用（syscall）来进行，由操作系统来处理用户程序的请求。**用户态是为了保护操作系统的稳定性和安全性，防止用户程序对系统资源的滥用。**
2. **内核态（Kernel Mode）：**在内核态下，处理器拥有最高的特权，可以执行全部指令集，直接访问系统资源和硬件设备。操作系统内核运行在内核态下，它可以执行关键的系统操作，如处理中断、管理进程、内存、设备等。只有处于内核态的操作系统内核才能对硬件进行直接控制和管理。

当一个程序执行时，它在初始状态下运行在用户态，只有在需要访问受限资源或执行特权指令时，才会通过**系统调用**进入内核态，然后操作系统会处理请求并返回结果给用户程序，并将处理器切换回用户态。

**通过特权级的切换，操作系统可以保护系统的稳定性和安全性，防止用户程序的错误或恶意行为对整个系统造成影响。同时，这种特权级切换也使得操作系统能够有效地管理系统资源，并提供各种系统功能和服务。**



###### 非特权指令和特权指令

1. **特权指令：**用户不可以使用的指令，如I/O指令、置中断指令，存取用于内存保护的寄存器、送程序状态字到程序状态寄存器等的指令；

   ```
   【置中断指令】
   
   "置中断指令"这个术语在计算机系统中并不是一个常见的概念，也没有固定的定义。在现代计算机体系结构中，CPU通常不直接提供一个专门的指令来置中断，而是通过特定的硬件机制和中断处理程序来管理中断。
   
   当外部设备或其他系统事件需要引起处理器的注意时，它们会向CPU发送中断请求。CPU在收到中断请求后，会暂停当前正在执行的任务，并执行一个称为中断处理程序（Interrupt Service Routine，ISR）的特定代码，用来处理中断事件。在中断处理程序执行完成后，CPU会回到之前被中断的地方继续执行任务。
   
   中断是一种实现并发处理和响应外部事件的重要机制。在多任务操作系统和实时系统中，中断被广泛应用于处理各种硬件事件和系统服务。
   
   虽然没有"置中断指令"这样的特定指令，但是处理器提供了特定的指令或指令集来允许开发人员在程序中显式地触发中断或陷阱，从而引发特定的中断事件。不同的处理器和架构可能有不同的方式来实现这些功能。
   
   总结：在现代计算机体系结构中，中断是通过特定的硬件机制和中断处理程序来管理的，而不是通过单一的"置中断指令"。中断是一种重要的并发处理和响应机制，允许处理器在需要时快速响应外部事件和处理特定的系统服务。
   ```

   

2. **非特权指令：**用户可以使用；



##### 内核

内核时计算机上配置的底层软件，它管理着系统的各种资源，可以看作时链接应用程序和硬件的一座桥梁，大多数操作系统的内核包括：

１.时钟管理

２.中断机制

３.原语

４.系统控制的数据结构及处理

Notes:核心态指令实际上包括系统调用类指令、一些对时钟、中断、原语的操作指令。





### 1.3.2中断和异常的概念（结合计组的第五章和第七章一起学）

在操作系统中，中断（Interrupt）和异常（Exception）是两种不同的事件，它们用于处理计算机系统中的异步事件或异常情况。这些事件可以打破程序的正常执行流程，需要操作系统介入并进行相应的处理。

1. 中断（Interrupt）： 中断是指计算机系统中发生的外部事件或硬件事件，它可以打断当前正在执行的程序，让处理器转而执行中断处理程序。中断可以来自硬件设备（如定时器中断、键盘输入中断、磁盘I/O中断等）或其他外部信号（如电源故障中断）。

当中断事件发生时，处理器会立即中止当前任务的执行，保存当前的上下文（即程序计数器、寄存器等状态），然后跳转到预先定义好的中断处理程序。中断处理程序负责处理相应的中断事件，可能包括保存中断相关信息、处理硬件设备或处理特定事件。

###### 中断的作用：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052023650.png" alt="image-20230805202345408" style="zoom:50%;" />



###### 中断的分类：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052024200.png" alt="image-20230805202417064" style="zoom: 50%;" />

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052028975.png" alt="image-20230805202850742" style="zoom: 67%;" />

###### 内中断的例子：

例子1：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052024485.png" alt="image-20230805202448243" style="zoom: 67%;" />

例子2：

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052025122.png" alt="image-20230805202548923" style="zoom: 67%;" />



###### 外中断的例子：

例子1：时钟中断；由时钟部件发出的一个中断信号。

<img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308052027691.png" alt="image-20230805202704454" style="zoom: 67%;" />





1. 异常（Exception）： 异常是指在程序执行过程中出现的非正常情况或错误情况，例如除零错误、访问无效内存、非法指令等。异常通常是由程序错误或意外情况引起的，并且它们需要操作系统来处理和纠正。

当异常事件发生时，处理器会立即暂停当前任务的执行，保存当前的上下文，并跳转到相应的异常处理程序。异常处理程序负责分析和处理异常情况，可能包括修复错误、终止出错的程序、向用户报告异常等。

区别：

- 中断是外部事件或硬件事件触发的，而异常是由程序执行过程中的错误或非正常情况触发的。
- 中断通常来自外部设备或其他外部信号，而异常是由处理器或程序执行过程中的错误引起的。
- 中断的处理程序用于处理外部事件，而异常的处理程序用于处理程序执行中的异常情况。

无论是中断还是异常，它们都是操作系统处理异步事件和异常情况的重要机制，确保计算机系统的正常运行和稳定性。





### 1.3.3系统调用（也称为广义指令）

在操作系统中，系统调用（System Call）是用户程序与操作系统之间进行交互的接口。它允许用户程序请求操作系统提供特权操作和系统服务，以执行那些需要特殊权限或硬件控制的任务。系统调用允许用户程序访问操作系统的功能，如文件操作、网络通信、进程管理等，而不需要了解底层的实现细节或直接操作硬件。

用户程序通常运行在用户态，处于受限的执行环境，无法直接访问系统资源和硬件设备。为了使用操作系统的功能，用户程序需要通过系统调用来向操作系统发起请求。当用户程序需要执行特权操作或访问系统资源时，它会使用特定的系统调用指令（如x86架构的int 0x80，x86-64架构的syscall等）触发中断或异常，将控制权交给操作系统内核。

操作系统内核会识别并处理这些中断或异常，根据用户程序请求的类型来执行相应的系统调用处理程序。系统调用处理程序负责验证用户程序的请求，检查参数的合法性，执行相应的操作，并返回结果给用户程序。

常见的系统调用包括：

- 文件操作：打开、读取、写入、关闭文件等。
- 进程管理：创建进程、结束进程、等待进程状态等。
- 内存管理：分配和释放内存、修改内存权限等。
- 网络通信：建立网络连接、发送和接收数据等。
- 设备控制：打开、关闭设备、控制设备状态等。

通过系统调用，用户程序能够利用操作系统的功能和资源，实现更复杂和全面的任务。系统调用提供了安全的方式让用户程序访问操作系统，同时也允许操作系统对用户程序的请求进行控制和验证，确保系统的稳定性和安全性。



### 1.3.4课后习题(p19~21)

小题：

- 1 第三个命题

  ```
  1
  通用操作系统 = 面向老百姓的操作系统，车载操作系统、智能冰箱
  专用操作系统 = 发射火箭用的操作系统、天河一号跑的操作系统应该也是定制的；
  
  在通用操作系统行，【不需要】向操作系统预定运行时间。
  专用操作系统需要向操作系统预定运行时间。
  
  3 
  编译器是操作系统的上层软件，不属于操作系统
  ```

- 2 第四个命题

  ```
  1
  批处理的主要缺点是不能进行人机交互。批处理追求的是利用率，需要的内存大不大取决于并发度高不高。
  
  2 
  几种常见的特权指令：I/O指令、开关中断、关中断指令、修改PSW指令
  注意：访管（trap）指令不是特权指令。
  
  3 
  引入多道程序技术最主要原因是提高资源利用率
  
  4 
  在操作系统中，通用技术是一种硬件技术，在第五章会学习。
  通道是CPU的小马仔，通道可以执行I/O指令，从而管理I/O设备的工作。
  ```

- 3 第1 2 4命题的判断

  ```
  考点：
  1.trap指令、屏蔽中断指令的作用；
  2.操作系统为用户提供的两种交互方式；	
  ```

  <img src="https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061610808.png" alt="image-20230806161032436" style="zoom:50%;" />

- 4 B 系统调用不是操作系统必须提供的功能

  操作系统必须提供的功能是中断处理

- 5【这题有点问题, 意义不大，想了解的话就再看一下视频，不要看答案】

  访管指令引起的内中断就是访管中断。

- 7

- 8

- 9

- 10

- 11

- 13

- 15

- 18[17题之后都是真题]

- 20

- 22

- 23

- 24

- 25

- 26

- 28



大题（2个，无真题）：

- 1
- 2





### 1.3.5答案





# 1.4操作系统结构（了解即可）

### 知识总览

![image-20230806140243788](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061402973.png)

### 操作系统的内核

![image-20230806140412505](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061404657.png)

###### 微内核和大内核

![image-20230806140526485](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061405687.png)

### 操作系统的体系结构

**考试时不要写“变态”，要写CPU状态的转换。**

![image-20230806140733659](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061407830.png)

### 知识回顾与重要考点

![image-20230806140911758](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061409958.png)



### 新增考点【分层结构、模块化结构、外核】

![image-20230806141114575](https://cdn.jsdelivr.net/gh/lsyhahaha/Mytypora/img/202308061411975.png)

Notes:

1. 外核比较少见；







# 1.5操作系统引导（2021年考过一个8分的大题，但是有点看不懂）

操作系统引导（Bootstrapping）是指计算机系统在加电或重启时，如何启动并加载操作系统的过程。在这个过程中，计算机需要找到并加载操作系统的引导程序（Bootloader），并将控制权转交给操作系统的内核，从而使得操作系统能够开始运行。

以下是操作系统引导的基本步骤：

1. 加电和自检（Power-On Self-Test, POST）：当计算机加电时，首先会进行自检过程，检测硬件设备和组件是否正常工作。这包括检查内存、显卡、硬盘、键盘等，以确保计算机硬件处于正常工作状态。
2. BIOS/UEFI初始化：自检完成后，计算机会加载并运行基本输入输出系统（Basic Input Output System, BIOS）或统一的可扩展固件接口（Unified Extensible Firmware Interface, UEFI）。BIOS/UEFI是固化在主板上的程序，它提供了一些基本的硬件初始化和引导功能。
3. 引导设备选择：BIOS/UEFI将根据预定义的引导顺序（通常是从硬盘、光盘、USB等设备）来选择一个合适的引导设备。它会依次检查这些设备是否存在引导记录。
4. 引导记录加载：一旦找到合适的引导设备，BIOS/UEFI会加载该设备的引导记录（Boot Record），它通常位于设备的引导扇区（通常是硬盘的第一个扇区）。
5. 引导程序执行：引导记录中包含引导程序（Bootloader），这是一个小型的程序，负责进一步加载操作系统的内核。引导程序将控制权转交给操作系统的内核，并将内核加载到内存中。
6. 操作系统内核加载：操作系统的内核被加载到内存后，它会初始化系统的各个部分，如内存管理、进程管理、设备管理等。一旦初始化完成，操作系统就准备好了开始运行用户程序。
7. 用户程序加载：操作系统内核会从合适的存储介质（硬盘、网络等）加载用户程序到内存中，并开始执行用户程序。

总的来说，操作系统引导是计算机系统启动过程中的关键步骤，它负责加载并运行操作系统，使计算机能够正常工作并为用户程序提供运行环境。







# 1.6虚拟机

### 1.6.1虚拟机的基本概念

虚拟机是一种计算机技术，它允许在一台物理计算机上创建多个虚拟计算机环境。每个虚拟机都是一个独立的、隔离的操作系统实例，它可以运行自己的应用程序和服务，就像是一台独立的计算机一样。虚拟机的基本概念包括以下几个方面：

1. 虚拟化层：虚拟机技术是通过虚拟化层来实现的。虚拟化层是一个软件或硬件的抽象层，它允许多个虚拟机共享物理计算机的硬件资源，如处理器、内存、存储和网络等。
2. 宿主机和客户机：在虚拟机环境中，物理计算机被称为宿主机（Host Machine），它是运行虚拟化软件的主机系统。而每个虚拟化出来的独立计算机环境被称为客户机（Guest Machine），它们运行在宿主机上的虚拟机中。
3. 虚拟机监视器（Hypervisor）：虚拟机监视器是虚拟化层的核心组件，它负责管理和分配宿主机的硬件资源给各个虚拟机，并确保虚拟机之间的隔离性。虚拟机监视器有两种类型：类型1和类型2。类型1是直接运行在宿主机硬件上的，称为裸机虚拟化，如VMware ESXi、Microsoft Hyper-V。类型2运行在宿主机的操作系统之上，需要通过操作系统来访问硬件资源，如VMware Workstation、VirtualBox。
4. 虚拟硬件：在虚拟机中，每个虚拟机都被赋予了虚拟硬件，包括虚拟的处理器、内存、硬盘、网卡等。这些虚拟硬件是虚拟化层提供给虚拟机的抽象，虚拟机并不直接访问宿主机的物理硬件，而是通过虚拟硬件来模拟访问。
5. 虚拟机镜像：虚拟机镜像是一个包含操作系统和应用程序的软件包，它被用来创建虚拟机实例。虚拟机镜像可以被复制、保存、备份，并且可以在不同的虚拟机之间迁移和部署。

虚拟机技术提供了一种有效的方式来提高计算机资源的利用率，节省硬件成本，并且提供了更好的系统管理和隔离性。它被广泛应用于服务器虚拟化、云计算、开发和测试环境等领域。







### 1.6.2课后习题(p31~32)

小题：

- 

无大题：

### 1.6.3答案







# 1.7本章疑难点

###### $\textcolor{Red}{1.并行性和并发性的区别与联系} $

###### $\textcolor{red}{2.特权指令和非特权指令}$

###### $\textcolor{red}{3.访管指令与访管中断}$

###### $\textcolor{red}{ 4.定义微内核结构OS的四个方面}$